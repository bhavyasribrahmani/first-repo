# ascii = 106
# c = chr(ascii)
# print(c)
# y = 100
# t = chr(y)
# print(t)
# u  = 101
# w = chr(u)
# print(w)
# o = ord(w)
# print(o)
# e = 'E'
# g = ord(e)
# print("the value of E:",g)
# i = "I"
# s = ord(i)
# print("the value of I:",s)
# m = "M"
# a = ord(m)
# print("the value of M:",a)
from functools import reduce

# Store questions, options, and correct answers in nested lists
quiz_data = [
    ["What is the capital of India?", ["a) Delhi", "b) Mumbai", "c) Kolkata", "d) Chennai"], "a"],
    ["Which language is used for web development?", ["a) Python", "b) HTML", "c) C++", "d) Java"], "b"],
    ["2 + 2 = ?", ["a) 3", "b) 4", "c) 5", "d) 6"], "b"],
    ["Which planet is known as Red Planet?", ["a) Earth", "b) Mars", "c) Jupiter", "d) Venus"], "b"]
]

# Track highest scores
highest_scores = []

# Function to ask questions
def ask_questions(simulated_inputs):
    print("\n--- Quiz Start ---\n")
    user_answers = []
    for i, q in enumerate(quiz_data):
        print(f"Q{i+1}: {q[0]}")
        for option in q[1]:
            print(option)
        answer = simulated_inputs[i].lower()
        print(f"Your answer (a/b/c/d): {answer}")
        user_answers.append(answer)
    return user_answers

# Example simulated answers
simulated_inputs = ['a', 'c', 'b']
user_answers = ask_questions(simulated_inputs)
# Function to calculate score using map
def calculate_score(user_answers):
    # Compare each answer with correct one
    results = list(map(lambda ua, q: ua == q[2], user_answers, quiz_data))
    # Convert True/False to 1/0
    scores = list(map(lambda r: 1 if r else 0, results))
    return results, scores

# Function to compute total score using reduce
def total_score(scores):
    return reduce(lambda a, b: a + b, scores)

# Recursive function to replay quiz
def play_quiz():
    user_answers = ask_questions()
    results, scores = calculate_score(user_answers)
    score = total_score(scores)
    percentage = (score / len(quiz_data)) * 100

    # Question-by-question result
    print("\n--- Results ---")
    for i, res in enumerate(results):
        status = "Correct âœ…" if res else "Wrong âŒ"
        print(f"Q{i+1}: {status}")

    # Final output
    print(f"\nTotal Score: {score}/{len(quiz_data)}")
    print(f"Percentage: {percentage:.2f}%")
    print("Result:", "Pass ðŸŽ‰" if percentage >= 50 else "Fail ðŸ˜¢")

    # Track highest score
    highest_scores.append(score)
    print(f"Highest Score so far: {max(highest_scores)}")

    # Replay option using recursion
    replay = input("\nDo you want to play again? (yes/no): ").strip().lower()
    if replay == "yes":
        play_quiz()
    else:
        print("\nThanks for playing! Goodbye ðŸ‘‹")
    return

# Start the game
play_quiz()